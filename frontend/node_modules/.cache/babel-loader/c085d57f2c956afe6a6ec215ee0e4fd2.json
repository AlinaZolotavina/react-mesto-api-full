{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u0410\\u043B\\u0438\\u043D\\u0430/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];function handleNameChange(e){setName(e.target.value);};var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];function handleDescriptionChange(e){setDescription(e.target.value);};function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});};function handleClose(){onClose();setName(currentUser.name);setDescription(currentUser.about);};return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit-profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",formName:\"editProfileForm\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:handleClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form__item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form__input_type_name\",id:\"name-input\",type:\"text\",name:\"name\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true,value:name||'',onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error name-input-error\",children:\"\\u0412\\u044B \\u043F\\u0440\\u043E\\u043F\\u0443\\u0441\\u0442\\u0438\\u043B\\u0438 \\u044D\\u0442\\u043E \\u043F\\u043E\\u043B\\u0435.\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form__item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form__input_type_job\",id:\"job-input\",type:\"text\",name:\"about\",placeholder:\"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E \\u043E \\u0412\\u0430\\u0441\",minLength:\"2\",maxLength:\"200\",required:true,value:description||'',onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error job-input-error\",children:\"\\u0412\\u044B \\u043F\\u0440\\u043E\\u043F\\u0443\\u0441\\u0442\\u0438\\u043B\\u0438 \\u044D\\u0442\\u043E \\u043F\\u043E\\u043B\\u0435.\"})]})]});};export default EditProfilePopup;","map":{"version":3,"names":["useContext","useEffect","useState","CurrentUserContext","PopupWithForm","EditProfilePopup","isOpen","onClose","onUpdateUser","currentUser","setName","name","setDescription","about","handleNameChange","e","target","value","description","handleDescriptionChange","handleSubmit","preventDefault","handleClose"],"sources":["C:/Users/Алина/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    const [name, setName] = useState('');\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    };\r\n\r\n    const [description, setDescription] = useState('');\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n    };\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n          name: name,\r\n          about: description\r\n        });\r\n    };\r\n\r\n    function handleClose() {\r\n        onClose();\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    };\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"edit-profile\"\r\n            title=\"Редактировать профиль\"\r\n            formName=\"editProfileForm\"\r\n            buttonText=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={handleClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"form__item\">\r\n                <input \r\n                    className=\"form__input form__input_type_name\"\r\n                    id=\"name-input\"\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    placeholder=\"Ваше имя\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"40\"\r\n                    required\r\n                    value={name || ''}\r\n                    onChange={handleNameChange}\r\n                />\r\n                <span className=\"form__input-error name-input-error\">Вы пропустили это поле.</span>\r\n            </label>\r\n            <label className=\"form__item\">\r\n                <input\r\n                    className=\"form__input form__input_type_job\"\r\n                    id=\"job-input\"\r\n                    type=\"text\"\r\n                    name=\"about\"\r\n                    placeholder=\"Кратко о Вас\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"200\"\r\n                    required\r\n                    value={description || ''}\r\n                    onChange={handleDescriptionChange}\r\n                />\r\n                <span className=\"form__input-error job-input-error\">Вы пропустили это поле.</span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n};\r\n\r\nexport default EditProfilePopup;"],"mappings":"kJAAA,OAASA,UAAT,CAAqBC,SAArB,CAAgCC,QAAhC,KAAgD,OAAhD,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,MAAOC,cAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,iBAAT,MAA6D,IAAjCC,OAAiC,MAAjCA,MAAiC,CAAzBC,OAAyB,MAAzBA,OAAyB,CAAhBC,YAAgB,MAAhBA,YAAgB,CACzD,GAAMC,YAAW,CAAGT,UAAU,CAACG,kBAAD,CAA9B,CACAF,SAAS,CAAC,UAAM,CACZS,OAAO,CAACD,WAAW,CAACE,IAAb,CAAP,CACAC,cAAc,CAACH,WAAW,CAACI,KAAb,CAAd,CACH,CAHQ,CAGN,CAACJ,WAAD,CAHM,CAAT,CAKA,cAAwBP,QAAQ,CAAC,EAAD,CAAhC,wCAAOS,IAAP,eAAaD,OAAb,eACA,QAASI,iBAAT,CAA0BC,CAA1B,CAA6B,CACzBL,OAAO,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,EAED,eAAsCf,QAAQ,CAAC,EAAD,CAA9C,yCAAOgB,WAAP,eAAoBN,cAApB,eACA,QAASO,wBAAT,CAAiCJ,CAAjC,CAAoC,CAChCH,cAAc,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACH,EAED,QAASG,aAAT,CAAsBL,CAAtB,CAAyB,CACrBA,CAAC,CAACM,cAAF,GACAb,YAAY,CAAC,CACXG,IAAI,CAAEA,IADK,CAEXE,KAAK,CAAEK,WAFI,CAAD,CAAZ,CAIH,EAED,QAASI,YAAT,EAAuB,CACnBf,OAAO,GACPG,OAAO,CAACD,WAAW,CAACE,IAAb,CAAP,CACAC,cAAc,CAACH,WAAW,CAACI,KAAb,CAAd,CACH,EAED,mBACI,MAAC,aAAD,EACI,IAAI,CAAC,cADT,CAEI,KAAK,CAAC,2HAFV,CAGI,QAAQ,CAAC,iBAHb,CAII,UAAU,CAAC,wDAJf,CAKI,MAAM,CAAEP,MALZ,CAMI,OAAO,CAAEgB,WANb,CAOI,QAAQ,CAAEF,YAPd,wBASI,eAAO,SAAS,CAAC,YAAjB,wBACI,cACI,SAAS,CAAC,mCADd,CAEI,EAAE,CAAC,YAFP,CAGI,IAAI,CAAC,MAHT,CAII,IAAI,CAAC,MAJT,CAKI,WAAW,CAAC,6CALhB,CAMI,SAAS,CAAC,GANd,CAOI,SAAS,CAAC,IAPd,CAQI,QAAQ,KARZ,CASI,KAAK,CAAET,IAAI,EAAI,EATnB,CAUI,QAAQ,CAAEG,gBAVd,EADJ,cAaI,aAAM,SAAS,CAAC,oCAAhB,oIAbJ,GATJ,cAwBI,eAAO,SAAS,CAAC,YAAjB,wBACI,cACI,SAAS,CAAC,kCADd,CAEI,EAAE,CAAC,WAFP,CAGI,IAAI,CAAC,MAHT,CAII,IAAI,CAAC,OAJT,CAKI,WAAW,CAAC,gEALhB,CAMI,SAAS,CAAC,GANd,CAOI,SAAS,CAAC,KAPd,CAQI,QAAQ,KARZ,CASI,KAAK,CAAEI,WAAW,EAAI,EAT1B,CAUI,QAAQ,CAAEC,uBAVd,EADJ,cAaI,aAAM,SAAS,CAAC,mCAAhB,oIAbJ,GAxBJ,GADJ,CA0CH,EAED,cAAed,iBAAf"},"metadata":{},"sourceType":"module"}