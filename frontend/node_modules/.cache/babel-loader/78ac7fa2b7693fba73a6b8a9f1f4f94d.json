{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u0410\\u043B\\u0438\\u043D\\u0430/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,onValidation=_ref.onValidation;var currentUser=React.useContext(CurrentUserContext);React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),nameError=_useState4[0],setNameError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),inputNameClassName=_useState6[0],setInputNameClassName=_useState6[1];function handleNameChange(e){setName(e.target.value);onValidation(e.target,setNameError,setInputNameClassName);}var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),descriptionError=_useState10[0],setDescriptionError=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),inputDescriptionClassName=_useState12[0],setInputDescriptionClassName=_useState12[1];function handleDescriptionChange(e){setDescription(e.target.value);onValidation(e.target,setDescriptionError,setInputDescriptionClassName);}var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isFormValid=_useState14[0],setFormValid=_useState14[1];var _useState15=useState('button_inactive'),_useState16=_slicedToArray(_useState15,2),buttonClassName=_useState16[0],setButtonClassName=_useState16[1];useEffect(function(){if(nameError||descriptionError){setFormValid(false);setButtonClassName('button_inactive');}else{setFormValid(false);setButtonClassName();}},[nameError,descriptionError]);function clearInputErrors(){setName(currentUser.name);setNameError('');setInputNameClassName('');setDescription(currentUser.about);setDescriptionError('');setInputDescriptionClassName('');}function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});clearInputErrors();}function handleClose(){onClose();clearInputErrors();}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit-profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",formName:\"editProfileForm\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:handleClose,onSubmit:handleSubmit,isFormValid:isFormValid,buttonClassName:buttonClassName,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form__item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form__input_type_name\",id:\"name-input\",type:\"text\",name:\"name\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true,value:name||'',onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error name-input-error \".concat(inputNameClassName),children:nameError})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form__item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form__input_type_job\",id:\"job-input\",type:\"text\",name:\"about\",placeholder:\"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E \\u043E \\u0412\\u0430\\u0441\",minLength:\"2\",maxLength:\"200\",required:true,value:description||'',onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error job-input-error \".concat(inputDescriptionClassName),children:descriptionError})]})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","useEffect","useState","CurrentUserContext","PopupWithForm","EditProfilePopup","isOpen","onClose","onUpdateUser","onValidation","currentUser","useContext","setName","name","setDescription","about","nameError","setNameError","inputNameClassName","setInputNameClassName","handleNameChange","e","target","value","description","descriptionError","setDescriptionError","inputDescriptionClassName","setInputDescriptionClassName","handleDescriptionChange","isFormValid","setFormValid","buttonClassName","setButtonClassName","clearInputErrors","handleSubmit","preventDefault","handleClose"],"sources":["C:/Users/Алина/dev/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, onValidation }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    const [name, setName] = useState('');\r\n    const [nameError, setNameError] = useState('');\r\n    const [inputNameClassName, setInputNameClassName] = useState('');\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n        onValidation(e.target, setNameError, setInputNameClassName);\r\n    }\r\n\r\n    const [description, setDescription] = useState('');\r\n    const [descriptionError, setDescriptionError] = useState('');\r\n    const [inputDescriptionClassName, setInputDescriptionClassName] = useState('');\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n        onValidation(e.target, setDescriptionError, setInputDescriptionClassName);\r\n    }\r\n\r\n    const [isFormValid, setFormValid] = useState(false);\r\n    const [buttonClassName, setButtonClassName] = useState('button_inactive');\r\n    useEffect(() => {\r\n        if(nameError || descriptionError) {\r\n            setFormValid(false);\r\n            setButtonClassName('button_inactive');\r\n        } else {\r\n            setFormValid(false);\r\n            setButtonClassName();\r\n        }\r\n    }, [nameError, descriptionError]);\r\n\r\n    function clearInputErrors() {\r\n        setName(currentUser.name);\r\n        setNameError('');\r\n        setInputNameClassName('');\r\n        setDescription(currentUser.about);\r\n        setDescriptionError('');\r\n        setInputDescriptionClassName('');\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n          name: name,\r\n          about: description\r\n        });\r\n        clearInputErrors();\r\n    }\r\n\r\n    function handleClose() {\r\n        onClose();\r\n        clearInputErrors();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"edit-profile\"\r\n            title=\"Редактировать профиль\"\r\n            formName=\"editProfileForm\"\r\n            buttonText=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={handleClose}\r\n            onSubmit={handleSubmit}\r\n            isFormValid={isFormValid}\r\n            buttonClassName={buttonClassName}\r\n        >\r\n            <label className=\"form__item\">\r\n                <input \r\n                    className=\"form__input form__input_type_name\"\r\n                    id=\"name-input\"\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    placeholder=\"Ваше имя\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"40\"\r\n                    required\r\n                    value={name || ''}\r\n                    onChange={handleNameChange}\r\n                />\r\n                <span className={`form__input-error name-input-error ${inputNameClassName}`}>{nameError}</span>\r\n            </label>\r\n            <label className=\"form__item\">\r\n                <input\r\n                    className=\"form__input form__input_type_job\"\r\n                    id=\"job-input\"\r\n                    type=\"text\"\r\n                    name=\"about\"\r\n                    placeholder=\"Кратко о Вас\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"200\"\r\n                    required\r\n                    value={description || ''}\r\n                    onChange={handleDescriptionChange}\r\n                />\r\n                <span className={`form__input-error job-input-error ${inputDescriptionClassName}`}>{descriptionError}</span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;"],"mappings":"6IAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,MAAOC,cAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,iBAAT,MAA2E,IAA/CC,OAA+C,MAA/CA,MAA+C,CAAvCC,OAAuC,MAAvCA,OAAuC,CAA9BC,YAA8B,MAA9BA,YAA8B,CAAhBC,YAAgB,MAAhBA,YAAgB,CACvE,GAAMC,YAAW,CAAGV,KAAK,CAACW,UAAN,CAAiBR,kBAAjB,CAApB,CACAH,KAAK,CAACC,SAAN,CAAgB,UAAM,CAClBW,OAAO,CAACF,WAAW,CAACG,IAAb,CAAP,CACAC,cAAc,CAACJ,WAAW,CAACK,KAAb,CAAd,CACH,CAHD,CAGG,CAACL,WAAD,CAHH,EAKA,cAAwBR,QAAQ,CAAC,EAAD,CAAhC,wCAAOW,IAAP,eAAaD,OAAb,eACA,eAAkCV,QAAQ,CAAC,EAAD,CAA1C,yCAAOc,SAAP,eAAkBC,YAAlB,eACA,eAAoDf,QAAQ,CAAC,EAAD,CAA5D,yCAAOgB,kBAAP,eAA2BC,qBAA3B,eACA,QAASC,iBAAT,CAA0BC,CAA1B,CAA6B,CACzBT,OAAO,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACAd,YAAY,CAACY,CAAC,CAACC,MAAH,CAAWL,YAAX,CAAyBE,qBAAzB,CAAZ,CACH,CAED,eAAsCjB,QAAQ,CAAC,EAAD,CAA9C,yCAAOsB,WAAP,eAAoBV,cAApB,eACA,eAAgDZ,QAAQ,CAAC,EAAD,CAAxD,0CAAOuB,gBAAP,gBAAyBC,mBAAzB,gBACA,gBAAkExB,QAAQ,CAAC,EAAD,CAA1E,2CAAOyB,yBAAP,gBAAkCC,4BAAlC,gBACA,QAASC,wBAAT,CAAiCR,CAAjC,CAAoC,CAChCP,cAAc,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACAd,YAAY,CAACY,CAAC,CAACC,MAAH,CAAWI,mBAAX,CAAgCE,4BAAhC,CAAZ,CACH,CAED,gBAAoC1B,QAAQ,CAAC,KAAD,CAA5C,2CAAO4B,WAAP,gBAAoBC,YAApB,gBACA,gBAA8C7B,QAAQ,CAAC,iBAAD,CAAtD,2CAAO8B,eAAP,gBAAwBC,kBAAxB,gBACAhC,SAAS,CAAC,UAAM,CACZ,GAAGe,SAAS,EAAIS,gBAAhB,CAAkC,CAC9BM,YAAY,CAAC,KAAD,CAAZ,CACAE,kBAAkB,CAAC,iBAAD,CAAlB,CACH,CAHD,IAGO,CACHF,YAAY,CAAC,KAAD,CAAZ,CACAE,kBAAkB,GACrB,CACJ,CARQ,CAQN,CAACjB,SAAD,CAAYS,gBAAZ,CARM,CAAT,CAUA,QAASS,iBAAT,EAA4B,CACxBtB,OAAO,CAACF,WAAW,CAACG,IAAb,CAAP,CACAI,YAAY,CAAC,EAAD,CAAZ,CACAE,qBAAqB,CAAC,EAAD,CAArB,CACAL,cAAc,CAACJ,WAAW,CAACK,KAAb,CAAd,CACAW,mBAAmB,CAAC,EAAD,CAAnB,CACAE,4BAA4B,CAAC,EAAD,CAA5B,CACH,CAED,QAASO,aAAT,CAAsBd,CAAtB,CAAyB,CACrBA,CAAC,CAACe,cAAF,GACA5B,YAAY,CAAC,CACXK,IAAI,CAAEA,IADK,CAEXE,KAAK,CAAES,WAFI,CAAD,CAAZ,CAIAU,gBAAgB,GACnB,CAED,QAASG,YAAT,EAAuB,CACnB9B,OAAO,GACP2B,gBAAgB,GACnB,CAED,mBACI,MAAC,aAAD,EACI,IAAI,CAAC,cADT,CAEI,KAAK,CAAC,2HAFV,CAGI,QAAQ,CAAC,iBAHb,CAII,UAAU,CAAC,wDAJf,CAKI,MAAM,CAAE5B,MALZ,CAMI,OAAO,CAAE+B,WANb,CAOI,QAAQ,CAAEF,YAPd,CAQI,WAAW,CAAEL,WARjB,CASI,eAAe,CAAEE,eATrB,wBAWI,eAAO,SAAS,CAAC,YAAjB,wBACI,cACI,SAAS,CAAC,mCADd,CAEI,EAAE,CAAC,YAFP,CAGI,IAAI,CAAC,MAHT,CAII,IAAI,CAAC,MAJT,CAKI,WAAW,CAAC,6CALhB,CAMI,SAAS,CAAC,GANd,CAOI,SAAS,CAAC,IAPd,CAQI,QAAQ,KARZ,CASI,KAAK,CAAEnB,IAAI,EAAI,EATnB,CAUI,QAAQ,CAAEO,gBAVd,EADJ,cAaI,aAAM,SAAS,8CAAwCF,kBAAxC,CAAf,UAA8EF,SAA9E,EAbJ,GAXJ,cA0BI,eAAO,SAAS,CAAC,YAAjB,wBACI,cACI,SAAS,CAAC,kCADd,CAEI,EAAE,CAAC,WAFP,CAGI,IAAI,CAAC,MAHT,CAII,IAAI,CAAC,OAJT,CAKI,WAAW,CAAC,gEALhB,CAMI,SAAS,CAAC,GANd,CAOI,SAAS,CAAC,KAPd,CAQI,QAAQ,KARZ,CASI,KAAK,CAAEQ,WAAW,EAAI,EAT1B,CAUI,QAAQ,CAAEK,uBAVd,EADJ,cAaI,aAAM,SAAS,6CAAuCF,yBAAvC,CAAf,UAAoFF,gBAApF,EAbJ,GA1BJ,GADJ,CA4CH,CAED,cAAepB,iBAAf"},"metadata":{},"sourceType":"module"}