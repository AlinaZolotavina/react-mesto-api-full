{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u0410\\u043B\\u0438\\u043D\\u0430/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onAddPlace=_ref.onAddPlace,onValidation=_ref.onValidation;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState('Вы пропустили это поле.'),_useState4=_slicedToArray(_useState3,2),titleError=_useState4[0],setTitleError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),inputTitleClassName=_useState6[0],setInputTitleClassName=_useState6[1];function handleTitleChange(e){setTitle(e.target.value);onValidation(e.target,setTitleError,setInputTitleClassName);}var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),link=_useState8[0],setLink=_useState8[1];var _useState9=useState('Вы пропустили это поле.'),_useState10=_slicedToArray(_useState9,2),linkError=_useState10[0],setLinkError=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),inputLinkClassName=_useState12[0],setInputLinkClassName=_useState12[1];function handleLinkChange(e){setLink(e.target.value);onValidation(e.target,setLinkError,setInputLinkClassName);}var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isFormValid=_useState14[0],setFormValid=_useState14[1];var _useState15=useState('button_inactive'),_useState16=_slicedToArray(_useState15,2),buttonClassName=_useState16[0],setButtonClassName=_useState16[1];useEffect(function(){if(titleError||linkError){setFormValid(false);setButtonClassName('button_inactive');}else{setFormValid(true);setButtonClassName('');}},[titleError,linkError]);function clearInputErrors(){setTitle('');setTitleError('Вы пропустили это поле.');setInputTitleClassName('');setLink('');setLinkError('Вы пропустили это поле.');setInputLinkClassName('');}function handleSubmit(e){e.preventDefault();onAddPlace({name:title,link:link});clearInputErrors();}function handleClose(){onClose();clearInputErrors();}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"add-photo\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",formName:\"addNewPhotoForm\",buttonText:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\",isOpen:isOpen,onClose:handleClose,onSubmit:handleSubmit,isFormValid:isFormValid,buttonClassName:buttonClassName,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form__item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form__input_type_title\",id:\"title-input\",type:\"text\",name:\"name\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",minLength:\"2\",maxLength:\"30\",required:true,value:title||'',onChange:handleTitleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error title-input-error \".concat(inputTitleClassName),children:titleError})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form__item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form__input_type_link\",id:\"card-link-input\",type:\"url\",name:\"link\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true,value:link||'',onChange:handleLinkChange}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error card-link-input-error \".concat(inputLinkClassName),children:linkError})]})]});}export default AddPlacePopup;","map":{"version":3,"names":["React","useState","useEffect","PopupWithForm","AddPlacePopup","isOpen","onClose","onAddPlace","onValidation","title","setTitle","titleError","setTitleError","inputTitleClassName","setInputTitleClassName","handleTitleChange","e","target","value","link","setLink","linkError","setLinkError","inputLinkClassName","setInputLinkClassName","handleLinkChange","isFormValid","setFormValid","buttonClassName","setButtonClassName","clearInputErrors","handleSubmit","preventDefault","name","handleClose"],"sources":["C:/Users/Алина/dev/mesto-react/src/components/AddPlacePopup.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, onValidation }) {\r\n    const [title, setTitle] = useState('');\r\n    const [titleError, setTitleError] = useState('Вы пропустили это поле.');\r\n    const [inputTitleClassName, setInputTitleClassName] = useState('');\r\n    function handleTitleChange(e) {\r\n        setTitle(e.target.value);\r\n        onValidation(e.target, setTitleError, setInputTitleClassName);\r\n    }\r\n\r\n    const [link, setLink] = useState('');\r\n    const [linkError, setLinkError] = useState('Вы пропустили это поле.');\r\n    const [inputLinkClassName, setInputLinkClassName] = useState('');\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value);\r\n        onValidation(e.target, setLinkError, setInputLinkClassName);\r\n    }\r\n\r\n    const [isFormValid, setFormValid] = useState(false);\r\n    const [buttonClassName, setButtonClassName] = useState('button_inactive');\r\n    useEffect(() => {\r\n      if (titleError || linkError) {\r\n        setFormValid(false);\r\n        setButtonClassName('button_inactive');\r\n      } else {\r\n        setFormValid(true);\r\n        setButtonClassName('')\r\n      }\r\n    }, [titleError, linkError]);\r\n\r\n    function clearInputErrors() {\r\n        setTitle('');\r\n        setTitleError('Вы пропустили это поле.');\r\n        setInputTitleClassName('');\r\n        setLink('');\r\n        setLinkError('Вы пропустили это поле.');\r\n        setInputLinkClassName('');\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: title,\r\n            link: link\r\n        });\r\n        clearInputErrors();\r\n    }\r\n\r\n    function handleClose() {\r\n        onClose();\r\n        clearInputErrors();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"add-photo\"\r\n            title=\"Новое место\"\r\n            formName=\"addNewPhotoForm\"\r\n            buttonText=\"Создать\"\r\n            isOpen={isOpen}\r\n            onClose={handleClose}\r\n            onSubmit={handleSubmit}\r\n            isFormValid={isFormValid}\r\n            buttonClassName={buttonClassName}            \r\n        >\r\n            <label className=\"form__item\">\r\n                <input\r\n                    className=\"form__input form__input_type_title\"\r\n                    id=\"title-input\"\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    placeholder=\"Название\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"30\"\r\n                    required\r\n                    value={title || ''}\r\n                    onChange={handleTitleChange}\r\n                />\r\n            <span className={`form__input-error title-input-error ${inputTitleClassName}`}>{titleError}</span>                \r\n            </label>\r\n            <label className=\"form__item\">\r\n                <input\r\n                    className=\"form__input form__input_type_link\"\r\n                    id=\"card-link-input\"\r\n                    type=\"url\"\r\n                    name=\"link\"\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    required\r\n                    value={link || ''}\r\n                    onChange={handleLinkChange}\r\n                />\r\n                <span className={`form__input-error card-link-input-error ${inputLinkClassName}`}>{linkError}</span>                \r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}